<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no"/>
<link type="text/css" rel="stylesheet" media="all"
    href="css/common.css">
</head>

<body>
	<div>Please use webkit browser to watch this example, and if you want to try touch Event please make sure you already turn on the emulate touch screen.Feel free to submit issue or bug to this project, source address is https://github.com/BE-FE/MSlider</div>
	<div id="info">Pic index: <strong>0</strong></div>
	<!-- 外层画布 -->
	<div id="outer"><div id="canvas"></div></div>
	<div id="menu">
		<span>isLooping: false</span>
		<span>isVerticle: false</span>
		<span>isAutoplay: false</span>
		<span>changeOrientation: 90</span>
	</div>

	<script type="text/javascript" src="js/mslider.js"></script>
	<script type="text/javascript">
	var list = [{
		height: 475,
		width: 400,
		content: "pics/1.jpg",
	},{
		height: 527,
		width: 400,
		content: "pics/2.jpg",
	},{
	 	height: 400,
	 	width: 512,
	 	content: "pics/3.jpg",
	},{
		height: 400,
		width: 458,
		content:"pics/5.jpg"
	},{
		height: 400,
		width: 498,
		content:"pics/6.jpg"
	},{
		height: 377,
		width: 600,
		content:"pics/7.jpg"
	},{
		height: 396,
		width: 600,
		content:"pics/8.jpg"
	},{
		height: 374,
		width: 600,
		content:"pics/9.jpg"
	}];
		
	var mslider = new MSlider({
	    data: list,
	    dom: document.getElementById("canvas"),
	    duration: 500,
	   	onslidechange: function(){
	   		var idx = document.getElementById('info').getElementsByTagName('strong')[0];
	   		idx.innerText = mslider.picIdx;
	   	}
	});

	(function(){
		var menu = document.getElementById('menu');
		var spans = document.getElementsByTagName('span');

		spans[0].onclick = function(){
			var target = spans[0];
			if (target.className == 'on') {
				target.className = '';
				target.innerText = 'isLooping: false';
			} else {
				target.className = 'on';	
				target.innerText = 'isLooping: true';
			}

			mslider._opts.isLooping = !mslider._opts.isLooping 
			mslider.reset();
		}

		spans[1].onclick = function(){
			var target = spans[1];
			if (target.className == 'on') {
				target.className = '';
				target.innerText = 'isVerticle: false';
			} else {
				target.className = 'on';	
				target.innerText = 'isVerticle: true';
			}

			mslider._opts.isVerticle = !mslider._opts.isVerticle;
			mslider.reset();
		}

		spans[2].onclick = function(){
			var target = spans[2];
			if (target.className == 'on') {
				target.className = '';
				target.innerText = 'isAutoplay: false';
			} else {
				target.className = 'on';	
				target.innerText = 'isAutoplay: true';
			}

			mslider._opts.isAutoplay = !mslider._opts.isAutoplay;
			mslider.reset();
		}

		spans[3].onclick = function(){
			var target = spans[3];
			var outer = document.getElementById('outer');
			var menu = document.getElementById('menu');
			var canvas = document.getElementById('canvas');

			if (target.className == 'on') {
				target.className = '';
				outer.className = '';
				menu.className = '';
				target.innerText = 'changeOrientation: 0';
				canvas.className = '';
				outer.appendChild(canvas);
				setTimeout(function(){
					mslider.reset();
				}, 200);
			} else {
				target.className = 'on';
				outer.className = 'rotated_outer';
				menu.className = 'rotated_menu';
				target.innerText = 'changeOrientation: 90';
				setTimeout(function(){
					document.body.appendChild(canvas);
					canvas.className = 'rotated_canvas';
					mslider.reset();
				}, 200);
			}
		}

	})()
	</script>
</body>
</html>
